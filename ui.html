<html lang="en">
  <head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
</head>
<style>
  body {
    background: #000;
    overflow: hidden;
  }
  i, .fa-* {
    font-family: "Font Awesome 6 Pro", "Font Awesome 6 Free" !important;
  }
  p {
    color: var(--bs-gray-600);
  }
  .ccHeader {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 8rem;
    border-radius: 100%;
    position: relative;
    color: #FFF;
    margin-bottom: 3rem;
  }
  .ccHeader img {
    z-index: 0;
  }
  .ccHeader::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    border-radius: 100%;
    scale: 1.6;
  }
  .ccNavHeader{
    background-color: #000;
    color: #FFF;
    padding: 1rem;
  }
  #close, #back {
    width: 1rem;
    height: 1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  section {
    display: flex;
    max-height: 600px;
    flex-direction: column;
    align-items: stretch;
    background-color: #FFF;
    transition: all 0.5s ease-in-out;
    width: 100%;
  }

  .featureSection {
    transition: all 0.5s ease-in-out;
  }

  .ccToggle {
    display: flex;
    align-items: center;
    gap: .5rem;
    padding: 0.6rem;
  }

  .generateHandOffSection .form-check-reverse{
    text-align: unset;
  }
  .generateHandOffSection .form-check-input:checked {
    background-color: var(--bs-success);
    border-color: var(--bs-success);
  }
  .generateHandOffSection .form-check-input:focus {
    --bs-form-switch-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");
    border-color: var(--bs-border-color);
    outline: 0;
    box-shadow: none;
  }
  .generateHandOffSection .form-check-input:checked:focus {
    --bs-form-switch-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e"); 
  }
  .lintCheckSection .form-check-reverse{
    text-align: unset;
  }
  .lintCheckSection .form-check-input:checked {
    background-color: var(--bs-success);
    border-color: var(--bs-success);
  }
  .lintCheckSection .form-check-input:focus {
    --bs-form-switch-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e");
    border-color: var(--bs-border-color);
    outline: 0;
    box-shadow: none;
  }
  .lintCheckSection .form-check-input:checked:focus {
    --bs-form-switch-bg: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e"); 
  }
  .ccImageSection {
    background-color: var(--bs-gray-300);
    min-height: 10rem;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }
  .ccImageSection img {
    max-height: 100%;
  }
  .variantImage img {
    z-index: 1;
    position: relative;
    max-height: 40vh;
  }
  input[type=range] {
  height: 32px;
  --webkit-appearance: none;
  margin: 10px 0;
  width: 100%;
}
input[type=range]:focus {
  outline: none;
}
input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 6px;
  cursor: pointer;
  box-shadow: 1px 1px 1px #000000;
  background: #000000;
  border-radius: 10px;
  border: 1px solid #4c4c4c;
  border-radius: 10px;
}
input[type=range]::-webkit-slider-thumb {
  box-shadow: 1px 1px 1px #000031;
  border: 0px solid #000000;
  height: 20px;
  width: 20px;
  border-radius: 50px;
  background: #FFFFFF;
  cursor: pointer;
  -webkit-appearance: none;
  margin-top: -7.5px;
}
input[type=range]:focus::-webkit-slider-runnable-track {
  background: #000000;
}

.ccSelection {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
}
.ccSelection li {
    display: flex;
    width: 48%;
    gap: 0.2rem;
}
.ccSelection li label {
    width: 100%;
}
</style>

<section class="featurePage" id="featurePage">
  <div class="overflow-hidden">
    <div class="ccHeader">
      <img src="https://imgstatic.phonepe.com/images/concord/images/227/62/logoWhite.svg" alt="">
    </div>
  </div>
  <div class="container p-3">  
    <h1>
      Hi, 👋 <br>
      Welcome
    </h1>
    <p>Concord transforms workflows, bridging design and development with automation, seamlessness, and flawless precision.</p>
    <features>
      <div class="d-grid gap-2">
        <button class="btn btn-dark text-start ccToggle" type="button" data-target="generateHandOffSection"><i class="fa-solid fa-ruler"></i>Generate Handoff</button>
        <button class="btn btn-dark text-start ccToggle" type="button" data-target="generateVariantsSection"><i class="fa-solid fa-shapes"></i>Generate Variants</button>
        <button class="btn btn-dark text-start ccToggle" type="button" data-target="analyticViewSection"><i class="fa-solid fa-chart-simple"></i>Analytics View</button>
        <button class="btn btn-dark text-start ccToggle" type="button" data-target="lintCheckSection"><i class="fa-solid fa-magnifying-glass-chart"></i>Lint Check</button>
      </div>
    </features>
  </div>
</section>

<section class="generateHandOffSection h-100 align-items-stretch" id="generateHandOffSection">
  <header class="ccNavHeader">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-2">
        <i id="close" class="fa-solid fa-arrow-left"></i>
        Generate HandOff
      </div>
      <i id="back" class="fa-solid fa-xmark"></i>
  </header>
  <div class="d-flex justify-content-between flex-column h-100 align-items-stretch">
    <ul class="list-group list-group-flush">
      <li class="ccImageSection">
        <img src="https://imgstatic.phonepe.com/images/concord/images/297/106/skeletonHandoff.svg" alt="">        
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="skipComponent" checked>
          <label class="form-check-label" for="skipFComponent">
            Skip Components
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="generateHandoffForAll">
          <label class="form-check-label" for="generateHandoffForAll">
            All frames on current page
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="updatePreviousHandoff">
          <label class="form-check-label" for="updatePreviousHandoff">
            Update Previous Handoff
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="handOffOnNewPage" checked>
          <label class="form-check-label" for="handOffOnNewPage">
            Show HandOff On New Page
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <label class="mb-2"><b>Select values to be shown</b></label>
        </div>

        <ul class="ccSelection">
          <li>          
            <input class="form-check-input" type="checkbox" value="" id="showTokens" checked>
            <label class="form-check-label" for="showTokens">
              Tokens
            </label>
          </li>
          <li>
              <input class="form-check-input" type="checkbox" value="" id="showStyles">
              <label class="form-check-label" for="showStyles">
                Styles
              </label>
          </li>
          <li>
              <input class="form-check-input" type="checkbox" value="" id="showVariables">
              <label class="form-check-label" for="showVariables">
                Variables
              </label>
          </li>
          <li>
            <input class="form-check-input" type="checkbox" value="" id="showRawData">
            <label class="form-check-label" for="showRawData">
              Raw Data
            </label>
          </li>
          <!-- <li>
            <input class="form-check-input" type="checkbox" value="" id="showLintData" checked>
            <label class="form-check-label" for="showLintData">
              Lint 
            </label>
          </li> -->
        </ul>
      </li>
      <!-- <li class="p-3 py-4">
        <label class="d-flex flex-column" for="slider">
          <span class="d-flex justify-content-between mb-1" id="slider-value">Max depth: <b>2</b></span>
          <input type="range" id="slider" class="m-0" name="slider" min="1" max="10" value="2">
        </label>
      </li> -->
    </ul>
    <div class="container">
      <button class="btn btn-dark w-100 mb-2 d-flex justify-content-center align-items-center gap-2" id="handoff">
        <i class="fa-solid fa-play"></i>Run
      </button>
    </div>
  </div>
</section>

<section class="generateVariantsSection h-100 align-items-stretch" id="generateVariantsSection">
  <header class="ccNavHeader">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-2">
        <i id="close" class="fa-solid fa-arrow-left"></i>
        Generate Variants
      </div>
      <i id="back" class="fa-solid fa-xmark"></i>
  </header>
  <ul class="list-group list-group-flush">
    <li class="ccImageSection variantImage">
      <img src="https://imgstatic.phonepe.com/images/concord/images/337/708/skeletonVariants.svg" alt="">
    </li>
    <li class="list-group-item">
      <p>The Generate Variants feature within this plugin will produce all available component variations from the design system.</p>
      <p>Click on <b>“Run”</b> button below to generate variants.</p>
    </li>
  </ul>
  <div class="container">
        <button class="btn btn-dark w-100 mb-2 d-flex justify-content-center align-items-center gap-2" id="variants">
      <i class="fa-solid fa-play"></i>Run
    </button>
  </div>
</section>

<section class="analyticView h-100 align-items-stretch align-items-center" id="analyticViewSection">
  <header class="ccNavHeader">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-2">
        <i id="close" class="fa-solid fa-arrow-left"></i>
        Analytics View
      </div>
      <i id="back" class="fa-solid fa-xmark"></i>
  </header>
  <div class="d-flex justify-content-center flex-column h-100 align-items-center">
    <i class="fa-solid fa-chart-simple fa-2xl mb-4"></i> Coming Soon
  </div>
</section>

<section class="lintCheckSection h-100 align-items-stretch" id="lintCheckSection">
  <header class="ccNavHeader">
    <div class="d-flex justify-content-between align-items-center">
      <div class="d-flex align-items-center gap-2">
        <i id="close" class="fa-solid fa-arrow-left"></i>
        Lint Check
      </div>
      <i id="back" class="fa-solid fa-xmark"></i>
  </header>
  <div class="d-flex justify-content-between flex-column h-100 align-items-stretch">
    <ul class="list-group list-group-flush">
      <li class="ccImageSection">
        <img src="https://imgstatic.phonepe.com/images/concord/images/297/106/skeletonHandoff.svg" alt="">        
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="skipComponentForLint" checked>
          <label class="form-check-label" for="skipFComponent">
            Skip Components
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="generateReportForAll">
          <label class="form-check-label" for="generateReportForAll">
            All frames on current page
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="updatePreviousReport">
          <label class="form-check-label" for="updatePreviousReport">
            Update Previous Lint Report
          </label>
        </div>
      </li>
      <li class="list-group-item">
        <div class="form-check form-switch form-check-reverse">
          <input class="form-check-input" type="checkbox" value="" id="reportOnNewPage" checked>
          <label class="form-check-label" for="reportOnNewPage">
            Show Report On New Page
          </label>
        </div>
      </li>

      <!-- <li class="p-3 py-4">
        <label class="d-flex flex-column" for="slider">
          <span class="d-flex justify-content-between mb-1" id="slider-value">Max depth: <b>2</b></span>
          <input type="range" id="slider" class="m-0" name="slider" min="1" max="10" value="2">
        </label>
      </li> -->
    </ul>
    <div class="container">
      <button class="btn btn-dark w-100 mb-2 d-flex justify-content-center align-items-center gap-2" id="lintCheck">
        <i class="fa-solid fa-play"></i>Run
      </button>
    </div>
  </div>
</section>


<!-- script -->

<script>
  // const rangeInput = document.querySelector('#slider');
  // const rangeValue = document.querySelector('#slider-value');
  // let sliderValue = 2;
  
  // rangeInput.addEventListener('input', (event) => {
  //   rangeValue.innerHTML = `Max depth: <b>${event.target.value}</b>`;
  //   sliderValue = event.target.value
  // });
  
  document.getElementById('handoff').onclick = () => {
    const chkbox = document.getElementById('skipComponent');
    const skipComponent = chkbox.checked;
    const generateHOffForAllCheckBox = document.getElementById('generateHandoffForAll');
    const generateHOffForAll = generateHOffForAllCheckBox.checked;
    const updatePreviousHandOffCheckBox = document.getElementById('updatePreviousHandoff');
    const updatePreviousHandoff = updatePreviousHandOffCheckBox.checked;
    const handOffOnNewPageCheckBox = document.getElementById('handOffOnNewPage');
    const handOffOnNewPage = handOffOnNewPageCheckBox.checked;   
    const showTokensCheckBox = document.getElementById('showTokens');
    const showTokens = showTokensCheckBox.checked;
    const showStylesCheckBox = document.getElementById('showStyles');
    const showStyles = showStylesCheckBox.checked;
    const showVariablesCheckBox = document.getElementById('showVariables');
    const showVariables = showVariablesCheckBox.checked;
    const showRawDataCheckBox = document.getElementById('showRawData');
    const showRawData = showRawDataCheckBox.checked;
    const showLintCheckBox = document.getElementById('showLintData');
    const showLintData = showLintCheckBox.checked;
    const slider = document.getElementById('slider');
    // const maxDepth = sliderValue;
    parent.postMessage({ pluginMessage: { type: 'handoff', skipComponent, generateHOffForAll,  updatePreviousHandoff, handOffOnNewPage, showTokens, showStyles, showVariables, showRawData,showLintData} }, '*')
  }
  
  document.getElementById('variants').onclick = () => {
    parent.postMessage({ pluginMessage: { type: 'variants' } }, '*')
  }

  document.getElementById('lintCheck').onclick = () => {
    const skipComponentCheckBox = document.getElementById('skipComponentForLint');
    const skipComponent = skipComponentCheckBox.checked;
    const generateReportForAllCheckBox = document.getElementById('generateReportForAll');
    const generateReportForAll = generateReportForAllCheckBox.checked;
    const updatePreviousReportCheckBox = document.getElementById('updatePreviousReport');
    const updatePreviousReport = updatePreviousReportCheckBox.checked;
    const reportOnNewPageCheckBox = document.getElementById('reportOnNewPage');
    const reportOnNewPage = reportOnNewPageCheckBox.checked;   
    parent.postMessage({ pluginMessage: { type: 'lintCheck', skipComponent, generateReportForAll,  updatePreviousReport, reportOnNewPage} }, '*')
  }
</script>
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>
$(document).ready(function(){
  const toggleButtons = document.querySelectorAll('.ccToggle');
  const featureSection = document.getElementById('featurePage');

  $('#generateHandOffSection, #generateVariantsSection, #analyticViewSection, #lintCheckSection').hide();

  $('#back, #close').on('click', function() {
    $('#featurePage').show();
    $('#generateHandOffSection, #generateVariantsSection, #analyticViewSection, #lintCheckSection').hide();
    featureSection.style.position = 'relative';
    featureSection.style.left = '0';
    featureSection.style.overflow = 'hidden';
  })

  toggleButtons.forEach(button => {
    button.addEventListener('click', () => {
      const targetId = button.getAttribute('data-target');
      const section = document.getElementById(targetId);

      if (section.style.display === 'none') {
        section.style.display = 'flex';
        featureSection.style.position = 'absolute';
        featureSection.style.left = '100vh';
        featureSection.style.zIndex = '9999'
        featureSection.style.overflow = 'hidden';
        featureSection.toggleClass('animated slideInLeft');
      } else {
        section.style.position = 'absolute';
        section.style.left = '100vh';
        section.style.zIndex = '9999'
        section.style.overflow = 'hidden';
      }
    });
  });
});

</script>
</html>